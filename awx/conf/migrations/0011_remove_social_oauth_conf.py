# Generated by Django 4.2.10 on 2024-08-13 11:14

from django.db import migrations

SOCIAL_OAUTH_CONF_KEYS = [
    # MICROSOFT AZURE ACTIVE DIRECTORY SETTINGS
    'SOCIAL_AUTH_AZUREAD_OAUTH2_CALLBACK_URL',
    'SOCIAL_AUTH_AZUREAD_OAUTH2_KEY',
    'SOCIAL_AUTH_AZUREAD_OAUTH2_SECRET',
    'SOCIAL_AUTH_AZUREAD_OAUTH2_ORGANIZATION_MAP',
    'SOCIAL_AUTH_AZUREAD_OAUTH2_TEAM_MAP',
    # GOOGLE OAUTH2 AUTHENTICATION SETTINGS
    'SOCIAL_AUTH_GOOGLE_OAUTH2_CALLBACK_URL',
    'SOCIAL_AUTH_GOOGLE_OAUTH2_KEY',
    'SOCIAL_AUTH_GOOGLE_OAUTH2_SECRET',
    'SOCIAL_AUTH_GOOGLE_OAUTH2_WHITELISTED_DOMAINS',
    'SOCIAL_AUTH_GOOGLE_OAUTH2_AUTH_EXTRA_ARGUMENTS',
    'SOCIAL_AUTH_GOOGLE_OAUTH2_ORGANIZATION_MAP',
    'SOCIAL_AUTH_GOOGLE_OAUTH2_TEAM_MAP',
    # GITHUB OAUTH2 AUTHENTICATION SETTINGS
    'SOCIAL_AUTH_GITHUB_CALLBACK_URL',
    'SOCIAL_AUTH_GITHUB_KEY',
    'SOCIAL_AUTH_GITHUB_SECRET',
    'SOCIAL_AUTH_GITHUB_ORGANIZATION_MAP',
    'SOCIAL_AUTH_GITHUB_TEAM_MAP',
    # GITHUB ORG OAUTH2 AUTHENTICATION SETTINGS
    'SOCIAL_AUTH_GITHUB_ORG_CALLBACK_URL',
    'SOCIAL_AUTH_GITHUB_ORG_KEY',
    'SOCIAL_AUTH_GITHUB_ORG_SECRET',
    'SOCIAL_AUTH_GITHUB_ORG_NAME',
    'SOCIAL_AUTH_GITHUB_ORG_ORGANIZATION_MAP',
    'SOCIAL_AUTH_GITHUB_ORG_TEAM_MAP',
    # GITHUB TEAM OAUTH2 AUTHENTICATION SETTINGS
    'SOCIAL_AUTH_GITHUB_TEAM_CALLBACK_URL',
    'SOCIAL_AUTH_GITHUB_TEAM_KEY',
    'SOCIAL_AUTH_GITHUB_TEAM_SECRET',
    'SOCIAL_AUTH_GITHUB_TEAM_ID',
    'SOCIAL_AUTH_GITHUB_TEAM_ORGANIZATION_MAP',
    'SOCIAL_AUTH_GITHUB_TEAM_TEAM_MAP',
    # GITHUB ENTERPRISE OAUTH2 AUTHENTICATION SETTINGS
    'SOCIAL_AUTH_GITHUB_ENTERPRISE_CALLBACK_URL',
    'SOCIAL_AUTH_GITHUB_ENTERPRISE_URL',
    'SOCIAL_AUTH_GITHUB_ENTERPRISE_API_URL',
    'SOCIAL_AUTH_GITHUB_ENTERPRISE_KEY',
    'SOCIAL_AUTH_GITHUB_ENTERPRISE_SECRET',
    'SOCIAL_AUTH_GITHUB_ENTERPRISE_ORGANIZATION_MAP',
    'SOCIAL_AUTH_GITHUB_ENTERPRISE_TEAM_MAP',
    # GITHUB ENTERPRISE ORG OAUTH2 AUTHENTICATION SETTINGS
    'SOCIAL_AUTH_GITHUB_ENTERPRISE_ORG_CALLBACK_URL',
    'SOCIAL_AUTH_GITHUB_ENTERPRISE_ORG_URL',
    'SOCIAL_AUTH_GITHUB_ENTERPRISE_ORG_API_URL',
    'SOCIAL_AUTH_GITHUB_ENTERPRISE_ORG_KEY',
    'SOCIAL_AUTH_GITHUB_ENTERPRISE_ORG_SECRET',
    'SOCIAL_AUTH_GITHUB_ENTERPRISE_ORG_NAME',
    'SOCIAL_AUTH_GITHUB_ENTERPRISE_ORG_ORGANIZATION_MAP',
    'SOCIAL_AUTH_GITHUB_ENTERPRISE_ORG_TEAM_MAP',
    # GITHUB ENTERPRISE TEAM OAUTH2 AUTHENTICATION SETTINGS
    'SOCIAL_AUTH_GITHUB_ENTERPRISE_TEAM_CALLBACK_URL',
    'SOCIAL_AUTH_GITHUB_ENTERPRISE_TEAM_URL',
    'SOCIAL_AUTH_GITHUB_ENTERPRISE_TEAM_API_URL',
    'SOCIAL_AUTH_GITHUB_ENTERPRISE_TEAM_KEY',
    'SOCIAL_AUTH_GITHUB_ENTERPRISE_TEAM_SECRET',
    'SOCIAL_AUTH_GITHUB_ENTERPRISE_TEAM_ID',
    'SOCIAL_AUTH_GITHUB_ENTERPRISE_TEAM_ORGANIZATION_MAP',
    'SOCIAL_AUTH_GITHUB_ENTERPRISE_TEAM_TEAM_MAP',
]


def remove_social_oauth_conf(apps, scheme_editor):
    setting = apps.get_model('conf', 'Setting')
    setting.objects.filter(key__in=SOCIAL_OAUTH_CONF_KEYS).delete()


class Migration(migrations.Migration):

    dependencies = [
        ('conf', '0010_change_to_JSONField'),
    ]

    operations = [
        migrations.RunPython(remove_social_oauth_conf),
    ]
