<!doctype html>
<!-- GitHub pages homepage -->
<html>
<head>
    <title>rrule.js demo</title>
    <link rel="stylesheet" href="tests/demo/demo.css"/>
    <script src="tests/vendor/jquery.js"></script>
    <script src="tests/vendor/underscore.js"></script>
    <script src="lib/rrule.js"></script>
    <script src="lib/nlp.js"></script>
    <script type="text/javascript" src="tests/demo/demo.js"></script>
</head>
<body>
<div id="page">
<p>
    <a href="tests/index.html">Test suite</a> |
    <a href="https://github.com/jkbr/rrule">Code and docs</a>
</p>
<h1><code>rrule.js</code> demo</h1>

<section id="intro">
<p>
    This is a demo and test app for <code>rrule.js</code>, a JavaScript library
    for working with recurrence rules for calendar dates.
</p>

</section>

<section id="output">
    <h2>Output</h2>
    <table>
        <tr>
            <th><code>rule =</code></th>
            <td>
                <pre id="init"></pre>
            </td>
        </tr>
        <tr>
            <th><code>rule.origOptions</code></th>
            <td>
                <pre id="options-output"></pre>
            </td>
        </tr>
        <tr>
            <th><code>rule.toString()</code></th>
            <td>
                <pre id="rfc-output"><a href=""></a></pre>
            </td>
        </tr>
        <tr>
            <th><code>rule.toText()</code></th>
            <td>
                <em id="text-output"><a href=""></a></em>
            </td>
        </tr>
        <tr>
            <th><code>rule.all()</code></th>
            <td>
                <table id="dates"></table>
            </td>
        </tr>
    </table>
</section>


<div id="input">
    <h2>Input</h2>
    <div id="tabs"></div>
    <div id="input-types">
    <section id="options-input">
        <h3>Options</h3>

        <form>
        <table>

        <tbody>
        <tr>
            <th>
                <div class="option-name"><code>freq</code>

                    <div class="help">Frequency</div>
                </div>
            </th>
            <td>
                    <label><input name="freq" type="radio" value="0" />RRule.YEARLY</label>
                    <label><input name="freq" type="radio" value="1" />RRule.MONTHLY</label>
                    <label><input name="freq" type="radio" value="2" checked />RRule.WEEKLY</label>
                    <label><input name="freq" type="radio" value="3" />RRule.DAILY</label>
                    <label><input name="freq" type="radio" value="4" />RRule.HOURLY</label>
                    <label><input name="freq" type="radio" value="5" />RRule.MINUTELY</label>
                    <label><input name="freq" type="radio" value="6" />RRule.SECONDLY</label>
            </td>
        </tr>
        <tr>
            <th>
                <div class="option-name"><code>dtstart</code>

                    <div class="help">The recurrence start. Besides being the
                        base for the recurrence, missing parameters in the
                        final recurrence instances will also be extracted from
                        this date. If not given, <code>new Date</code> will be
                        used instead.
                    </div>
                </div>
            </th>
            <td><input name="dtstart" type="datetime-local"/></td>
        </tr>
        <tr>
            <th>
                <div class="option-name"><code>until</code>

                    <div class="help">If given, this must be a
                        <code>Date</code>
                        instance, that will
                        specify
                        the limit of the recurrence. If a recurrence instance
                        happens
                        to be the same as the <code>Date</code> instance given
                        in the
                        <code>until</code>
                        argument, this will be the last occurrence.
                    </div>
                </div>
            </th>
            <td><input type="datetime-local" name="until"/>
            </td>
        </tr>
        <tr>
            <th>
                <div class="option-name"><code>count</code>

                    <div class="help">How many occurrences will be generated.
                    </div>
                </div>
            </th>
            <td><input type="number" max="1000" min="1" value="30" name="count"/>
            </td>
        </tr>
        <tr>
            <th>
                <div class="option-name"><code>interval</code>

                    <div class="help">The interval between each freq iteration.
                        For example, when using <code>RRule.YEARLY</code>, an
                        interval of <code>2</code> means once every two years,
                        but with <code>RRule.HOURLY</code>, it means once every
                        two hours. The default interval is <code>1</code>.
                    </div>
                </div>
            </th>
            <td><input type="number" value="1" min="1" name="interval"/></td>
        </tr>
        <tr>
            <th>
                <div class="option-name"><code>wkst</code>

                    <div class="help"> The week start day. Must be one of the
                        <code>RRule.MO</code>, <code>RRule.TU</code>,
                        <code>RRule.WE</code>
                        constants, or an integer, specifying the first day of
                        the week. This will affect recurrences based on weekly
                        periods. The default week start is
                        <code>RRule.MO</code>.
                    </div>
                </div>
            </th>
            <td>
                <label><input type="radio" name="wkst" value="0" checked />RRule.MO</label>
                <label><input type="radio" name="wkst" value="1" />RRule.TU</label>
                <label><input type="radio" name="wkst" value="2" />RRule.WE</label>
                <label><input type="radio" name="wkst" value="3" />RRule.TH</label>
                <label><input type="radio" name="wkst" value="4" />RRule.FR</label>
                <label><input type="radio" name="wkst" value="5" />RRule.SA</label>
                <label><input type="radio" name="wkst" value="6" />RRule.SU</label>
            </td>
        </tr><tr>
            <th>
                <div class="option-name"><code>byweekday</code>

                    <div class="help">If given, it must be either an integer
                        (<code>0
                            == RRule.MO</code>),
                        a
                        sequence of integers, one of the weekday constants
                        (<code>RRule.MO</code>,
                        <code>RRule.TU</code>, etc), or a sequence of these
                        constants.
                        When
                        given,
                        these variables will define the weekdays where the
                        recurrence
                        will be applied. It's also possible to use an argument
                        n
                        for
                        the weekday instances, which will mean the nth
                        occurrence
                        of
                        this weekday in the period. For example, with
                        <code>RRule.MONTHLY</code>,
                        or with <code>RRule.YEARLY</code> and
                        <code>BYMONTH</code>,
                        using
                        <code>RRule.FR.clone(+1)</code> in
                        <code>byweekday</code> will
                        specify
                        the
                        first friday of the month where the recurrence happens.
                        Notice
                        that the RFC documentation, this is specified as
                        <code>BYDAY</code>,
                        but was renamed to avoid the ambiguity of that
                        argument.
                    </div>
                </div>
            </th>
            <td>
                <label><input type="checkbox" name="byweekday" value="0">RRule.MO</label>
                <label><input type="checkbox" name="byweekday" value="1">RRule.TU</label>
                <label><input type="checkbox" name="byweekday" value="2">RRule.WE</label>
                <label><input type="checkbox" name="byweekday" value="3">RRule.TH</label>
                <label><input type="checkbox" name="byweekday" value="4">RRule.FR</label>
                <label><input type="checkbox" name="byweekday" value="5">RRule.SA</label>
                <label><input type="checkbox" name="byweekday" value="6">RRule.SU</label>
            </td>
        </tr>
        <tr>
            <th>
                <div class="option-name"><code>bymonth</code>

                    <div class="help">If given, it must be either an integer,
                        or a
                        sequence of
                        integers, meaning the months to apply the recurrence
                        to.
                    </div>
                </div>
            </th>
            <td>
                <label><input name="bymonth" type="checkbox" value="1"/> Jan</label>
                <label><input name="bymonth" type="checkbox" value="2"/> Feb</label>
                <label><input name="bymonth" type="checkbox" value="3"/> Mar</label>
                <label><input name="bymonth" type="checkbox" value="4"/> Apr</label>
                <label><input name="bymonth" type="checkbox" value="5"/> May</label>
                <label><input name="bymonth" type="checkbox" value="6"/> Jun</label>
                <label><input name="bymonth" type="checkbox" value="7"/> Jul</label>
                <label><input name="bymonth" type="checkbox" value="8"/> Aug</label>
                <label><input name="bymonth" type="checkbox" value="9"/> Sep</label>
                <label><input name="bymonth" type="checkbox" value="10"/> Oct</label>
                <label><input name="bymonth" type="checkbox" value="11"/> Nov</label>
                <label><input name="bymonth" type="checkbox" value="12"/> Dec</label>
            </td>
        </tr>
        <tr>
            <th>
                <div class="option-name"><code>bysetpos</code>

                    <div class="help">If given, it must be either an integer,
                        or a
                        sequence of
                        integers, positive or negative. Each given integer will
                        specify
                        an occurrence number, corresponding to the nth
                        occurrence
                        of
                        the rule inside the frequency period. For example, a
                        <code>bysetpos</code> of <code>-1</code> if combined
                        with a
                        <code>RRule.MONTHLY</code>
                        frequency, and a byweekday of (<code>RRule.MO</code>,
                        <code>RRule.TU</code>,
                        <code>RRule.WE</code>, <code>RRule.TH</code>,
                        <code>FR</code>),
                        will
                        result
                        in the last
                        work day of every month.
                    </div>
                </div>
            </th>
            <td><input name="bysetpos"/></td>
        </tr>
        <tr>
            <th>
                <div class="option-name"><code>bymonthday</code>

                    <div class="help">If given, it must be either an integer,
                        or a
                        sequence of
                        integers, meaning the month days to apply the
                        recurrence
                        to.
                    </div>
                </div>
            </th>
            <td><input name="bymonthday"/></td>
        </tr>
        <tr>
            <th>
                <div class="option-name"><code>byyearday</code>

                    <div class="help">If given, it must be either an integer,
                        or a
                        sequence of
                        integers, meaning the year days to apply the recurrence
                        to.
                    </div>
                </div>
            </th>
            <td><input name="byyearday"/></td>
        </tr>
        <tr>
            <th>
                <div class="option-name"><code>byweekno</code>

                    <div class="help">If given, it must be either an integer,
                        or a
                        sequence of
                        integers, meaning the week numbers to apply the
                        recurrence
                        to.
                        Week numbers have the meaning described in ISO8601,
                        that
                        is,
                        the first week of the year is that containing at least
                        four
                        days of the new year.
                    </div>
                </div>
            </th>
            <td><input name="byweekno"></td>
        </tr>
        <tr>
            <th>
                <div class="option-name"><code>byhour</code>

                    <div class="help">If given, it must be either an integer,
                        or a
                        sequence of
                        integers, meaning the hours to apply the recurrence to.
                    </div>
                </div>
            </th>
            <td><input name="byhour"></td>
        </tr>

        <tr>
            <th>
                <div class="option-name"><code>byminute</code>

                    <div class="help">If given, it must be either an integer,
                        or a
                        sequence of
                        integers, meaning the minutes to apply the recurrence
                        to.
                    </div>
                </div>
            </th>
            <td><input name="byminute"/></td>
        </tr>
        <tr>
            <th>
                <div class="option-name"><code>bysecond</code>

                    <div class="help">If given, it must be either an integer,
                        or a
                        sequence of
                        integers, meaning the seconds to apply the recurrence
                        to.
                    </div>
                </div>
            </th>
            <td><input name="bysecond"></td>
        </tr>
        <tr>
            <th>
                <div class="option-name"><code>byeaster</code>

                    <div class="help">
                        This is an extension to the RFC specification which the
                        Python
                        implementation provides.
                        <strong>Not implemented in the JavaScript
                            version.</strong>
                    </div>
                </div>
            </th>
            <td>
                <input disabled>
            </td>
        </tr>
        </tbody>
        </table>
        </form>
    </section>


    <section id="rfc-input">
        <h3><code>RRULE</code> string</h3>
        <p><input  value="FREQ=DAILY;INTERVAL=2;COUNT=4"/></p>
        <p>
            Enter an <code>RRULE</code> as per <a href="http://www.kanzaki.com/docs/ical/rrule.html">iCalendar RFC</a>.
        </p>
        <p>Examples:</p>
        <ul class="examples">
            <li><code>FREQ=WEEKLY;BYDAY=MO,WE</code></li>
            <li><code>FREQ=MONTHLY;BYMONTHDAY=10,15;COUNT=20</code></li>
            <li><code>FREQ=DAILY;INTERVAL=3;COUNT=10</code></li>
            <li><code>FREQ=MONTHLY;BYDAY=-2FR;COUNT=7</code></li>
        </ul>
    </section>



    <section id="text-input">
        <h3>Text input</h3>
        <p>
            <input value="Every 2 weeks on Friday for 6 times" />
        </p>
        <p>Examples:</p>
        <ul class="examples">
            <li><code>Every weekday</code></li>
            <li><code>Every 2 weeks on Tuesday</code></li>
            <li><code>Every week on Monday, Wednesday</code></li>
            <li><code>Every month on the 2nd last Friday for 7 times</code></li>
            <li><code>Every 6 months</code></li>
        </ul>
    </section>


    </div>
</div>
</div>
<a href="https://github.com/jkbr/rrule"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png" alt="Fork me on GitHub"></a>
</body>
</html>
