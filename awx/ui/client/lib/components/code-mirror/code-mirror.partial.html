<div>
    <div class="atCodeMirror-label">
        <div class="atCodeMirror-labelLeftSide">
             <span class="atCodeMirror-labelText" ng-class="labelClass">
                    {{  label || vm.strings.get('code_mirror.label.VARIABLES') }}
                </span>
             <a id=""
                href=""
                aria-label="{{ tooltip || vm.strings.get('code_mirror.tooltip.TOOLTIP') }}"
                aw-pop-over="{{ tooltip || vm.strings.get('code_mirror.tooltip.TOOLTIP') }}"
                data-placement="{{ tooltipPlacement || 'top' }}"
                data-container="body"
                over-title="{{ label || vm.strings.get('code_mirror.label.VARIABLES') }}"
                class="help-link"
                data-original-title="{{ label || vm.strings.get('code_mirror.label.VARIABLES') }}"
                title="{{ label || vm.strings.get('code_mirror.label.VARIABLES') }}"
                tabindex="-1"
                ng-if="tooltip">
                <span class="at-Popover-icon" ng-class="{ 'at-Popover-icon--defaultCursor': popover.on === 'mouseenter' && !popover.click }">
                    <i class="fa  fa-question-circle"></i>
                </span>
             </a>
             <div class="atCodeMirror-toggleContainer FormToggle-container">
                 <div id="{{ name }}_parse_type" class="btn-group">
                    <label ng-class="{'btn-primary': parseType === 'yaml','Button-primary--hollow' : parseType === 'json'}" class="btn btn-xs">
                        <input
                            type="radio"
                            value="yaml"
                            ng-model="parseType"
                            ng-change="parseTypeChange('parseType', vm.variablesName)"
                            class="ng-pristine ng-untouched ng-valid ng-not-empty">
                                {{ vm.strings.get('label.YAML')}}
                    </label>
                    <label ng-class="{'btn-primary': parseType === 'json','Button-primary--hollow' : parseType === 'yaml'}" class="btn btn-xs">
                        <input
                            type="radio"
                            value="json"
                            ng-model="parseType"
                            ng-change="parseTypeChange('parseType', vm.variablesName)"
                            class="ng-pristine ng-untouched ng-valid ng-not-empty">
                                {{ vm.strings.get('label.JSON')}}
                    </label>
                </div>
             </div>
        </div>
        <div class="atCodeMirror-expandTextContainer" ng-click="vm.expand()">{{ vm.strings.get('label.EXPAND') }}</div>
    </div>
    <textarea
        ng-disabled="disabled"
        rows="6"
        ng-model="variables"
        name="{{ vm.name }}_variables"
        class="form-control Form-textArea"
        id="{{ vm.name }}_variables">
    </textarea>
    <at-code-mirror-modal
        name="{{ vm.name }}"
        ng-if="vm.expanded"
        modal-vars="variables"
        modal-parse-type="parseType"
        tooltip="{{ tooltip || vm.strings.get('code_mirror.tooltip.TOOLTIP') }}"
        label="{{ label || vm.strings.get('code_mirror.label.VARIABLES') }}"
        disabled="{{ disabled || false }}"
        close-fn="vm.close(values, parseType)">
    </at-code-mirror-modal>
</div>
