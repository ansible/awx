<div class="col-sm-{{::col}} at-InputContainer">
    <div class="form-group at-u-flat">
        <at-input-label></at-input-label>
        <div class="input-group">
            <div class="input-group-btn at-InputGroup-button input-group-prepend" ng-show="state.tagMode">
                <button
                  aria-label="{{:: vm.strings.get('lookup.PERFORM_LOOKUP')}}"
                  class="btn at-ButtonHollow--white at-Input-button--long-sm"
                  ng-disabled="state._disabled || form.disabled"
                  ng-click="vm.onLookupClick()"
                >
                    <i class="fa fa-search"></i>
                </button>
            </div>
            <input
              ng-show="ssh && !state.asTag"
              ng-disabled="state._disabled || form.disabled"
              class="at-InputFile--hidden"
              ng-class="{'at-InputFile--drag': drag }"
              type="file"
              name="files"
            ></input>
            <div
              ng-if="state.asTag"
              ng-disabled="state._disabled || form.disabled"
              class="form-control at-Input at-InputTaggedTextarea"
              >
              <div class="at-InputTagContainer">
                <at-tag
                  ng-show="(!state._disabled) && state._tagValue"
                  icon="external"
                  tag="state._tagValue"
                  remove-tag="state._onRemoveTag(state)"
                ></at-tag>
                <at-tag
                  ng-show="state._disabled && state._tagValue"
                  icon="external"
                  tag="state._tagValue"
                ></at-tag>
              </div>
            </div>
            <textarea
              class="form-control at-Input at-InputTextarea"
              ng-show="!state.asTag"
              ng-model="state[state._activeModel]"
              ng-class="{ 'at-Input--rejected': state._rejected }"
              ng-attr-rows="{{::state._rows || 6 }}"
              ng-attr-maxlength="{{ state.max_length || undefined }}"
              ng-attr-tabindex="{{ tab || undefined }}"
              ng-attr-placeholder="{{state._placeholder || undefined }}"
              ng-disabled="state._disabled || form.disabled"
            ></textarea>
            <div ng-if="state._edit" class="input-group-btn at-InputGroup-button input-group-append">
                <button
                  aria-label="{{:: vm.strings.get('secret.REPLACE')}}"
                  class="btn at-ButtonHollow--white at-Input-button--long-sm"
                  ng-disabled="state.asTag || (!state._enableToggle && (state._disabled || form.disabled))"
                  ng-click="state._isBeingReplaced = !state._isBeingReplaced"
                  aw-tool-tip="{{ state._buttonText }}"
                  data-tip-watch="state._buttonText"
                  data-placement="top"
                >
                  <i ng-show="!state._isBeingReplaced" class="fa fa-undo"></i>
                  <i ng-show="state._isBeingReplaced" class="fa fa-undo fa-flip-horizontal"></i>
                </button>
            </div>
        </div>
        <at-input-message></at-input-message>
    </div>
</div>
