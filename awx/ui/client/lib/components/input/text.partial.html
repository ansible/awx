<div class="col-sm-{{::col}} at-InputContainer">
    <div class="form-group at-u-flat">
        <at-input-label></at-input-label>
        <div ng-if="state.tagMode" class="input-group">
          <span class="input-group-btn input-group-prepend">
              <button
                aria-label="{{:: vm.strings.get('lookup.PERFORM_LOOKUP')}}"
                class="btn at-ButtonHollow--default at-Input-button"
                ng-disabled="state._disabled || form.disabled"
                ng-click="vm.onLookupClick()">
                  <i class="fa fa-search"></i>
              </button>
          </span>
          <span
            ng-if="state.asTag"
            ng-disabled="state._disabled || form.disabled"
            class="form-control at-Input"
          >
            <div class="at-InputTagContainer">
              <at-tag
                ng-show="(!state._disabled) && state._tagValue"
                icon="external"
                tag="state._tagValue"
                remove-tag="state._onRemoveTag(state)"
              >
              </at-tag>
              <at-tag
                ng-show="state._disabled && state._tagValue"
                icon="external"
                tag="state._tagValue"
              ></at-tag>
            </div>
          </span>
          <input ng-if="!state.asTag" type="text" class="form-control at-Input"
            ng-class="{ 'at-Input--rejected': state._rejected }"
            ng-model="state._value"
            ng-attr-maxlength="{{ state.max_length || undefined }}"
            ng-attr-tabindex="{{ tab || undefined }}"
            ng-attr-placeholder="{{::state._placeholder || undefined }}"
            ng-disabled="state._disabled || form.disabled"
          />
        </div>
        <input ng-if="!state.tagMode" type="text" class="form-control at-Input"
          ng-class="{ 'at-Input--rejected': state._rejected }"
          ng-model="state._value"
          ng-attr-maxlength="{{ state.max_length || undefined }}"
          ng-attr-tabindex="{{ tab || undefined }}"
          ng-attr-placeholder="{{::state._placeholder || undefined }}"
          ng-disabled="state._disabled || form.disabled"
        />
        <at-input-message></at-input-message>
    </div>
</div>
